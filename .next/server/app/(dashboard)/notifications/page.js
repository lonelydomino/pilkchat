(()=>{var e={};e.id=6855,e.ids=[6855],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},54276:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>d,routeModule:()=>h,tree:()=>c});var a=s(50482),i=s(69108),r=s(62563),n=s.n(r),l=s(68300),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["(dashboard)",{children:["notifications",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,3598)),"/Users/michaelmartinez/My Stuff/Software Development/BlueSky Clone/app/(dashboard)/notifications/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,38170)),"/Users/michaelmartinez/My Stuff/Software Development/BlueSky Clone/app/(dashboard)/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,31393)),"/Users/michaelmartinez/My Stuff/Software Development/BlueSky Clone/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,1429)),"/Users/michaelmartinez/My Stuff/Software Development/BlueSky Clone/app/not-found.tsx"]}],d=["/Users/michaelmartinez/My Stuff/Software Development/BlueSky Clone/app/(dashboard)/notifications/page.tsx"],x="/(dashboard)/notifications/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/(dashboard)/notifications/page",pathname:"/notifications",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},21566:(e,t,s)=>{Promise.resolve().then(s.bind(s,82076))},82076:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>f});var a=s(95344),i=s(3729),r=s(16212),n=s(51354),l=s(35851),o=s(28240),c=s(18822),d=s(14513),x=s(91626);function m({notification:e,onMarkAsRead:t,onDelete:s}){let[m,h]=(0,i.useState)(!1),[u,f]=(0,i.useState)(!1),p=async()=>{if(!m){h(!0);try{(await fetch(`/api/notifications/${e.id}/read`,{method:"POST"})).ok&&t(e.id)}catch(e){console.error("Error marking notification as read:",e)}finally{h(!1)}}},y=async()=>{if(!u){f(!0);try{(await fetch(`/api/notifications/${e.id}`,{method:"DELETE"})).ok&&s(e.id)}catch(e){console.error("Error deleting notification:",e)}finally{f(!1)}}};return a.jsx("div",{className:`p-4 border-b border-gray-100 hover:bg-gray-50 transition-colors ${e.read?"":"bg-blue-50"}`,children:(0,a.jsxs)("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"w-8 h-8 bg-gray-300 rounded-full flex items-center justify-center",children:(()=>{switch(e.type){case"like":return a.jsx(n.Z,{className:"w-4 h-4 text-red-500"});case"comment":return a.jsx(l.Z,{className:"w-4 h-4 text-blue-500"});case"follow":return a.jsx(o.Z,{className:"w-4 h-4 text-green-500"});case"repost":return a.jsx(l.Z,{className:"w-4 h-4 text-purple-500"});default:return a.jsx(c.Z,{className:"w-4 h-4 text-gray-500"})}})()})}),a.jsx("div",{className:"flex-1 min-w-0",children:(0,a.jsxs)("div",{className:"flex items-start justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm text-gray-900",children:e.message}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:(0,x.p6)(e.createdAt)})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-1 ml-2",children:[!e.read&&a.jsx(r.z,{variant:"ghost",size:"sm",onClick:p,disabled:m,className:"text-xs text-blue-600 hover:text-blue-700",children:"Mark as read"}),a.jsx(r.z,{variant:"ghost",size:"sm",onClick:y,disabled:u,className:"text-xs text-gray-400 hover:text-red-600",children:a.jsx(d.Z,{className:"w-3 h-3"})})]})]})})]})})}/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let h=(0,s(69224).Z)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);var u=s(33037);function f(){let[e,t]=(0,i.useState)([]),[s,n]=(0,i.useState)(!0),[l,o]=(0,i.useState)(!1),c=(0,i.useCallback)(async()=>{n(!0);try{let e=await fetch("/api/notifications");if(e.ok){let s=await e.json();t(s.notifications)}}catch(e){console.error("Error fetching notifications:",e)}finally{n(!1)}},[]);(0,i.useEffect)(()=>{c()},[c]);let d=e=>{t(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},x=e=>{t(t=>t.filter(t=>t.id!==e))},f=async()=>{if(!l){o(!0);try{(await fetch("/api/notifications/mark-all-read",{method:"POST"})).ok&&t(e=>e.map(e=>({...e,read:!0})))}catch(e){console.error("Error marking all notifications as read:",e)}finally{o(!1)}}},p=e.filter(e=>!e.read).length;return s?a.jsx("div",{className:"max-w-2xl mx-auto p-6",children:(0,a.jsxs)("div",{className:"mb-6",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Notifications"}),a.jsx("div",{className:"animate-pulse space-y-4",children:[void 0,void 0,void 0,void 0,void 0].map((e,t)=>a.jsx("div",{className:"bg-white rounded-lg shadow p-4",children:(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full"}),(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4 mb-2"}),a.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]})},t))})]})}):(0,a.jsxs)("div",{className:"max-w-2xl mx-auto p-6",children:[(0,a.jsxs)("div",{className:"mb-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"Notifications"}),p>0&&(0,a.jsxs)(r.z,{variant:"outline",size:"sm",onClick:f,disabled:l,className:"flex items-center space-x-2",children:[a.jsx(h,{className:"w-4 h-4"}),a.jsx("span",{children:l?"Marking...":"Mark all as read"})]})]}),p>0&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:[p," unread notification",1!==p?"s":""]})]}),0===e.length?(0,a.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg shadow",children:[a.jsx("div",{className:"text-gray-400 mb-4",children:a.jsx(u.Z,{className:"w-16 h-16 mx-auto"})}),a.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No notifications yet"}),a.jsx("p",{className:"text-gray-500",children:"When people interact with your posts, you'll see notifications here."})]}):a.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:e.map(e=>a.jsx(m,{notification:e,onMarkAsRead:d,onDelete:x},e.id))})]})}},51354:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]])},35851:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("MessageCircle",[["path",{d:"m3 21 1.9-5.7a8.5 8.5 0 1 1 3.8 3.8z",key:"v2veuj"}]])},28240:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});/**
 * @license lucide-react v0.294.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let a=(0,s(69224).Z)("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]])},3598:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>i,default:()=>n});let a=(0,s(86843).createProxy)(String.raw`/Users/michaelmartinez/My Stuff/Software Development/BlueSky Clone/app/(dashboard)/notifications/page.tsx`),{__esModule:i,$$typeof:r}=a,n=a.default}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[1638,4345,6632,2162,8863,3409],()=>s(54276));module.exports=a})();